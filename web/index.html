<html>
  <head>
    <meta charset="utf-8">       
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link href="css/datepicker.min.css" rel="stylesheet" />

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js@1.0.0-beta.35/dist/web3.min.js" ></script>
    
    <script id="configJs" src="js/config.js" defer></script>     
  </head>

  <body>

    <!-- INICIO ACCESOS ADMIN, PROMOTOR, INVERSOR-->
    <div id="accesosDiv" class="row" >
      <h1 class="centrado"> HOUSE FUNDING </h1>
      <p class="cursiva centrado"> Invierte en proyectos de promotores inmobiliarios con tokens en Alastria</p>
      
      <div class="column-portada cuadro ">
        <h2 class="centrado"> Acceso Administrador </h2>
        <label for="logAdministrador">Introduce tu Alastria ID (account)</label>
        <br/><br/>
        
        <input type="text" name="logAdministrador" id="loginAdministrador"></input>
        <br/><br/>
        <label for="pssAdministrador">Contraseña</label>
        <br/><br/>
        <input type="password" name="pssAdministrador" id="pssAdministrador"></input>
        <br/><br/>
        <button type="button" id="logAdministradorButton" onclick="loginAdministrador()">Login Administrador</button>        
        <p> </p>
        <span id="msgAccesoAdministrador"></span> 
      </div>      
      <div class="column-portada cuadro ">
        <h2 class="centrado"> Acceso para promotores </h2>
        <label for="logPromotor">Introduce tu Alastria ID (account)</label>
        <br/><br/>
        <input type="text" name="logPromotor" id="loginPromotorT"></input>
        <br/><br/>
        <label for="pssPromotor">Contraseña</label>
        <br/><br/>
        <input type="password" name="pssPromotor" id="pssPromotor"></input>
        <br/><br/>
        <button type="button" id="logPromotorButton" onclick="loginPromotor()">Login promotor</button>
        <p> ¿No tienes cuenta? </p>
        <button type="button" id="logPromotorButton" onclick="muestra_oculta('regPromotorDiv', 'accesosDiv')">Registrar promotor</button>        
      </div>
      <div class="column-portada cuadro ">
        <h2 class="centrado"> Acceso para inversores </h2>
        <label for="logInversor">Introduce tu Alastria ID (account)</label>
        <br/><br/>
        <input type="text" name="logInversor" id="logInversor"></input>
        <br/><br/>
        <label for="pssInversor">Contraseña</label>
        <br/><br/>
        <input type="password" name="pssInversor" id="pssInversor"></input>
        <br/><br/>
        <button type="button" onclick="loginInversor()">Login inversor</button>        
        <p> ¿No tienes cuenta? </p>
        <button type="button" id="logPromotorButton" onclick="muestra_oculta('regInversorDiv', 'accesosDiv')">Registrar inversor</button>                
      </div>
    </div>
    <!-- FIN ACCESO ADMIN, PROMOTOR, INVERSOR-->

    <!-- INICIO REGISTRAR PROMOTOR-->
    <div id="regPromotorDiv" class="cuadro centrado" style="display: none">
      <h4> Registrar nuevo promotor </h4>
      <label> Nombre </label>
      <input type="text" id="nbPromotor"/>
      <br><br>
      <label> CIF </label>
      <input type="text" id="cifPromotor"/>
      <br><br>
      <label> Capacidad </label>
      <input type="text" id="capacidadPromotor"/>
      <br><br>
      <button type="button" onclick="registrarPromotor()">Registrar promotor</button>          
      <br><br>    
      <button type="button" onclick="muestra_oculta('regPromotorDiv', 'accesosDiv');">Volver</button>
      <br>
    </div>
    <!-- FIN REGISTRAR PROMOTOR-->

    <!-- FIN REGISTRAR INVERSOR-->
    <div id="regInversorDiv" class="cuadro centrado" style="display: none">
      <h4> Registrar nuevo inversor </h4>
      <label> Nombre </label>
      <input type="text" id="nbInversor" />
      <br><br>
      <label> CIF </label>
      <input type="text" id="cifInversor" />
      <br><br>
      <!--
      <label> Password </label>
      <input type="text" id="pwdInversor"></input>
      <br><br>
      -->
      <button type="button" onclick="registrarInversor()">Registrar inversor</button>
        <span id="msgRegInversor"></span>    
        <br><br>    
      <button type="button" onclick="muestra_oculta('regInversorDiv', 'accesosDiv');">Volver</button>  
    </div>
    <!-- FIN REGISTRAR INVERSOR-->
    
    <!-- INICIO REGISTRAR PROYECTO-->
    <div id="regProyectoDiv" class="cuadro centrado" style="display: none">
        <h4> Registrar nuevo proyecto </h4>
        <label> Nombre </label>
        <input type="text" id="nbProyectoReg"/>
        <br><br>
        <label> Tokens Goal </label>
        <input type="text" id="tokenGoalProyectoReg"/>
        <br><br>
        <label> Retabilidad </label>
        <input type="text" id="rentabilidadProyectoReg"/>
        <br><br>
        <label> Fecha Inicio Financiación </label>
        <input type="text" name="fechaIniFinancProyectoRegDatepicker" id="fechaIniFinancProyectoReg"/>
        <br><br>
        <label> Fecha Fin Financiación </label>
        <input type="text" name="fechaFinFinancProyectoRegDatepicker" id="fechaFinFinancProyectoReg"/>
        <br><br>       
        <label> Fecha Inicio Ejecución </label>
        <input type="text" name="fechaIniEjeProyectoRegDatepicker" id="fechaIniEjeProyectoReg"/>
        <br><br>
        <label> Fecha Fin Ejecución </label>
        <input type="text" name="fechaFinEjeProyectoRegDatepicker" id="fechaFinEjeProyectoReg"/>
        <br><br>        
        <button type="button" onclick="registrarProyecto()">Registrar proyecto</button>    
        <br><br>           
        <button type="button" onclick="muestra_oculta('regProyectoDiv', 'promotorDiv');cargarPantallaPromotor();">Volver</button>
        <br>
      </div>
      <!-- FIN REGISTRAR PROYECTO-->    

    <!-- INICIO PROMOTOR-->
    <div id="promotorDiv" class="cuadro centrado" style="display: none">
      <h4> Promotor </h4>
      <label> Nombre: </label>
      <span id="nbPromotorPro"></span>
      <br><br>
      <label> CIF: </label>
      <span id="cifPromotorPro"></span>
      <br><br>
      <label> Capacidad: </label>
      <span id="capacidadPromotorPro"></span>    
      <br><br>
      <span id="msgListProyectosPromotor"></span>  
      <br><br>     
      <button type="button" onclick="muestra_oculta('promotorDiv', 'regProyectoDiv')">Nuevo proyecto</button>      
      <br><br>
      <button type="button" onclick="muestra_oculta('promotorDiv', 'accesosDiv');">Volver</button>
      <br>
    </div>
    <!-- FIN PROMOTOR-->

    <!-- INICIO INVERSOR-->
    <div id="inversorDiv" class="cuadro centrado" style="display: none">
      <h4> Inversor </h4>
      <label> Nombre: </label>
      <span id="nbInversorInv"></span>
      <br><br>
      <label> CIF: </label>
      <span id="cifInversorInv"></span>
      <br><br>
      <span id="msgConsultaInversor"></span>
      <br>
      <button type="button" onclick="cargarPantallaInvertirEnProyectos();muestra_oculta('inversorDiv', 'invertirEnProyectoDiv');cleanInversor();">Invertir en nuevo proyecto</button>      
      <br><br>
      <button type="button" onclick="muestra_oculta('inversorDiv', 'accesosDiv');cleanInversor();">Volver</button>
      <br>
    </div>
    <!-- FIN INVERSOR-->    

    <!-- INICIO INVERTIR EN PROYECTO-->
    <div id="invertirEnProyectoDiv" class="cuadro centrado" style="display: none">
     
      <br><br>
      <span id="invertirEnProyectoSpan"></span>
      <br>     
      <button type="button" onclick="muestra_oculta('inversorDiv', 'invertirEnProyectoDiv');cleanInvertirEnProyecto();cargarPantallaInversor();">Volver</button>
      <br>
    </div>
    <!-- FIN INVERTIR EN PROYECTO-->       
    
    <!-- INICIO ADMINISTRADOR -->
    <div id="administradorDiv" class="row" style="display: none">

    <div class="row">
      <h3 align="center"> Administraci&oacute;n de la Plataforma </h3>

      <div class="column-half40 cuadroAdmin">
        <h4>Transferencia Tokens </h4>
        <table>
           <tr>
              <td>
                Tipo: 
              </td> 
              <td>                 
                  <select name="selectTipoUsuario" id="selectTipoUsuario">
                    <option value="PROMOTOR">Promotor</option>
                    <option value="INVERSOR">Inversor</option>
                </select>
              </td>
           </tr>
           <tr>
              <td>
                Cuenta destino: 
              </td> 
              <td>
                <input type="text" name="cuentaDestino" id="cuentaDestino" size="50" maxlength="42" value="" />
              </td>
           </tr>
           <tr>
              <td>Tokens:</td>
             <td>
                 <input type="number" min="1" name="numeroTokens" id="numeroTokens" size="30" maxlength="10" value=""/>
              </td>                  
           </tr>

           <tr> 
              <td>&nbsp;</td>    
              <td>
                <input type="button" name="tranferirTokensBtn" value="Tranferir" onclick="tranferirTokens()"/>
                <button type="button" onclick="muestra_oculta('administradorDiv', 'accesosDiv')">Volver</button>
              </td>    
           </tr>
        </table>

        <br><br>  
        <span id="msgAdministradorPlataforma"></span>
        
      </div>

      <div id="promotoresDiv" class="column-half40 cuadroAdmin">
        <h4> Lista de Promotores</h4>
        <table id="tblPromotor">
            <thead>
              <tr>
                  <th>Nombre</th>
                  <th>CIF</th>
                  <th>Capacidad</th>
                  <th>Proyectos</th>
                  <th>Balance</th>
                  <th>Obtener Tokens</th>
              </tr> 
            <thead>
            <tbody>
            </tbody>  
        </table>
      </div>
      <br>
      <span id="msgPromotroresMensajes"></span>

    </div>

   <!--<div class="row">-->
              
        <div id="proyectosDiv" class="row">
          <h4>Listado de Proyectos<span id="promotorSeleccionado"></span></h4>
          <table id="tblProyecto">
              <thead>
                <tr>
                    <th>Nombre</th>
                    <th>Tokens Goal</th>
                    <th>Rentabilidad</th>

                    <th>Inicio Financiaci&oacute;n</th>
                    <th>Fin Financiaci&oacute;n</th>
                    <th>Inicio Ejecuci&oacute;n</th>
                    <th>Fin Ejecuci&oacute;n</th>

                    <th>Estado</th>
                    <th>Balance</th>
                    <th>Inversores</th>
                </tr>
              </thead>
            <tbody>
              
            </tbody>
          </table>
          <br/>
          
          <span id="msgProyectosMensajes"></span>
        </div>

       <div id="inversoresPorProyectoDiv" class="row">
          <h4>Listado de Inversores<span id="proyectoSeleccionado"></span></h4>
            <table id="tblInversor">
              <thead>
                <tr>
                    <th>Nombre</th>
                    <th>CIF</th>
                    <th>Balance</th>
                    <th>Proyectos</th>
                </tr> 
              </thead>
              <tbody>
                
              </tbody>
          </table>  
          <br/>
          <span id="msgInversoresMensajes"></span>        
        </div>


      <!--</div>-->

    </div>    
    <!-- FIN ADMINISTRADOR -->

    
    <div id="mensajesDiv" style="display: none">                       
      <br><br>
      <span id="mensajeSpan"></span>
      <br><br>
    </div>

    <script src="js/datepicker-full.min.js"></script>
    <script>
        
      const elem1 = document.querySelector('input[name="fechaIniFinancProyectoRegDatepicker"]');  
      const datepicker1 = new Datepicker(elem1, {
        buttonClass: 'btn',        
      });      

      const elem2 = document.querySelector('input[name="fechaFinFinancProyectoRegDatepicker"]');
      const datepicker2 = new Datepicker(elem2, {
        buttonClass: 'btn',        
      }); 

      const elem3 = document.querySelector('input[name="fechaIniEjeProyectoRegDatepicker"]');
      const datepicker3 = new Datepicker(elem3, {
        buttonClass: 'btn',        
      }); 

      const elem4 = document.querySelector('input[name="fechaFinEjeProyectoRegDatepicker"]');
      const datepicker4 = new Datepicker(elem4, {
        buttonClass: 'btn',        
      }); 

    </script>


  </body>
</html>
